<!DOCTYPE html>
{% extends "beweb/layout.html" %} {% load i18n%} {% block content %} {% if user.is_authenticated %}
<div class="container">
    <h2 class="text-center font-weight-bold">JOB</h2>
    <form method="POST">
        {% csrf_token %}
        <div class="row form-group">
            <div class="col-sm-4">
                <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">WORK ORDER
                    NUMBER</label>
            </div>
            <div class="col-sm-4">
                <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">JOB NUMBER</label>
            </div>
            <div class="col-sm-4">
                <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">TYPE
                </label>
            </div>
        </div>
        

        <div class="row form-group">
            <div class="col-sm-4">
                <input type="text" class="form-control " name="workorder_number" value="{{wo}}" readonly />
            </div>
            <div class="col-sm-4">
                <input type="text" class="form-control" name="job_number" id="job_number" value="{{job_id}}" readonly />
            </div>
            <div class="col-sm-4">
                <select name="jobtype" id="jobtype" type="text" class="form-control" placeholder="Please Select Type"
                    onclick="replaceContentInContainer('client','descrip')" required>
                    <option value="" disabled selected>Select Type</option>
                    {% for jptype in jobtp%}
                    <option value="{{jptype.job_type_id}}">
                        {{jptype.type}}
                    </option>
                    {% endfor%}
                </select>
            </div>
        </div>



        <!-- E50-->
        <div id="e50">
            <div class="row form-group">
                <div class="col-sm-3">
                    <label class="font-weight-bold col-xs-3 col-form-label"
                        style="padding-left: 50px;">DESCRIPTION</label>
                </div>
                <div class="col-sm-9">
                    <textarea id="e50_tnames" name="e50_tnames" hidden class="form-control" value=""> </textarea>
                    <textarea name="e50_description" class="form-control" value="" placeholder=""
                        id="e50_description"> {{description}}</textarea>

                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-3">
                    <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START
                        DATE</label>
                </div>
                <div class="col-sm-3">
                    <input name="e50_start_date" type="date" class="form-control" value="" id="e50_start_date" />
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">EXPECTED COMPLETION DATE</label>
                </div>
                <div class="col-sm-3">
                    <input name="e50_expected_end_dt" type="date" class="form-control" value=""
                        id="e50_expected_end_dt" />
                </div>
            </div>

            <div class="row form-group" id="">
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
                </div>
                <div class="col-sm-3">
                    <input type="text" class="form-control" placeholder="" id="e50_fleet" name="e50_fleet" value="" />
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
                </div>
                <div class="col-sm-3">
                    <select id="e50_assignee" name="e50_assignee" onchange="substation_inspection()"
                        class="form-control">
                        <option value="" disabled selected>Select Team Leader</option>
                        {% for value in teams.values%}
                        {% for leader in value%}
                        {% if leader.firstname  %}
                        <option value="{{leader.ec_number}}">
                            {{leader.firstname}} {{leader.lastname}}
                        </option>
                        {% endif %}
                        {% endfor%}
                        {% endfor%}
                    </select>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
                </div>
                <div class="col-sm-3">
                    <select class="form-control" multiple="multiple" id="e50_assistants"></select>
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
                </div>
                <div class="col-sm-3">
                    <textarea id="e50_xteams" class="form-control" name="assistants" value="{{member}}"></textarea>
                </div>
            </div>
            <br>
            <br>
            <br>
            <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
                <div class="col-md-3">
                    <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                        <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                            onclick="return confirm('Are you sure you want to cancel the job?');" />
                    </a>
                </div>
                <div class=" col-md-3">
                    <!-- <a class="navbar-brand  col-sm-8 pt-sm-0" href="}">
                        <input type="submit" class="btn btn-sm  btn-block " value="Submit" id="e50_submit"
                            name="savejob_submit" formaction="/beweb/save/job/"
                            onclick="return confirm('Are you sure you want to create job?');" />
                    </a> -->
                </div>
                <div class="col-md-3" id="attach">
                    <a class="navbar-brand  col-sm-8 pt-sm-0" href="#">
                        <input type="submit" class="btn  btn-sm  btn-block " value="Attach Asset" name="Add Asset"
                            formaction="/beweb/save/asset/"
                            onclick="return confirm('Are you sure you want to add asset?');" />
                    </a>
                </div>

            </div>
        </div>
        <!-- E84 -->
        <div id="e84">
            <div class="row form-group" id="descrip">
                <div class="col-sm-3">
                    <label class="font-weight-bold col-xs-3 col-form-label"
                        style="padding-left: 50px;">DESCRIPTION</label>
                </div>
                <div class="col-sm-9">
                    <textarea id="tnames" name="tnames" hidden class="form-control" value=""> </textarea>
                    <textarea name="description" class="form-control" value="" placeholder=""
                        id="e84_description"> {{description}}</textarea>

                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-3">
                    <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START DATE AND
                        TIME</label>
                </div>
                <div class="col-sm-3">
                    <input name="e84_start_date" type="date" class="form-control" value="" id="e84_start_date" />
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">EXPECTED END DATE</label>
                </div>
                <div class="col-sm-3">
                    <input name="e84_expected_end_dt" type="date" class="form-control" value="{{year}}"
                        id="e84_expected_end_dt" />
                </div>
            </div>
            <div class="row form-group" id="trigge">
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">TRIGGER</label>
                </div>
                <div class="col-sm-3">
                    <select class="form-control" id="e84_trigger" name="trigger">
                        <option value="" disabled selected>Select Trigger</option>
                        <option value="Inspection">Inspection</option>
                        <option value="Fault">Fault</option>
                        <option value="Maintenance">Maintenance</option>
                        <option value="Recovery">Recovery</option>
                    </select>
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
                </div>
                <div class="col-sm-3">
                    <input type="text" class="form-control" placeholder="" id="e84_fleet" name="fleet"
                        value="{{fleet}}" />
                </div>
            </div>
            <div class="row form-group" id="plants">
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">PLANT/EQUIPMENT TYPE</label>
                </div>
                <div class="col-sm-3">
                    <select class="form-control" name="asset_type" id="e84_asset_type">
                        <option value="" disabled selected>Select Equipment </option>
                        <option value="transformer">Transformer</option>
                        <option value="station">Station</option>
                        <option value="feeder">Feeder</option>
                        <option value="meter">Meter</option>
                        <option value="switchgear">Switchgear</option>
                        <option value="pole">Pole</option>
                    </select>
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
                </div>
                <div class="col-sm-3">
                    <select id="e84_assignee" name="assignee" onchange="line_inspection()" class="form-control">
                        <option value="" disabled selected>Select Team Leader</option>
                        {% for value in teams.values%}
                        {% for leader in value%}
                        {% if leader.firstname  %}
                        <option value="{{leader.ec_number}}">
                            {{leader.firstname}} {{leader.lastname}}
                        </option>
                        {% endif %}
                        {% endfor%}
                        {% endfor%}
                    </select>
                </div>
            </div>
            <div class="row form-group" id="members">
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
                </div>
                <div class="col-sm-3">
                    <select class="form-control" multiple="multiple" id="e84_assistants"></select>
                </div>
                <div class="col-sm-3">
                    <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
                </div>
                <div class="col-sm-3">
                    <textarea id="e84_xteams" class="form-control" name="assistants" value="{{member}}"></textarea>
                </div>
            </div>
            <br>
            <br>
            <br>
            <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
                <div class="col-md-3">
                    <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                        <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                            onclick="return confirm('Are you sure you want to cancel the job?');" />
                    </a>
                </div>
                <div class="col-md-3" id="attach">
                    <a class="navbar-brand  col-sm-8 pt-sm-0" href="#">
                        <input type="submit" class="btn  btn-sm  btn-block " value="Attach Asset" name="Add Asset"
                            formaction="/beweb/save/asset/"
                            onclick="return confirm('Are you sure you want to add asset?');" />
                    </a>
                </div>
                <div class=" col-md-3">
                    <a class="navbar-brand  col-sm-8 pt-sm-0" href="}">
                        <input type="submit" class="btn btn-sm  btn-block " value="Submit" id="e84_submit"
                            name="savejob_submit" formaction="/beweb/save/job/"
                            onclick="return confirm('Are you sure you want to create job?');" />
                    </a>
                </div>
            </div>
        </div>

<!-- E60 -->
<div id="e60">
    <div class="row form-group">
        <div class="col-sm-3">
            <label class="font-weight-bold col-xs-3 col-form-label"
                style="padding-left: 50px;">DESCRIPTION</label>
        </div>
        <div class="col-sm-3">
            <textarea id="e60_tnames" name="e60_tnames" hidden class="form-control" value=""> </textarea>
            <textarea name="e60_description" class="form-control" value="" placeholder=""
                id="e60_description"> {{description}}</textarea>
        </div>
        <div class="col-sm-3">
            <label class="font-weight-bold col-xs-3 col-form-label" style="padding: right 50px;">WORK TYPE</label>
        </div>
        <div class="col-sm-3">
            <select name="work_type" type="text" class="form-control" value="" id="work_type">
            <option value="" disabled selected>Select Work Type</option>
                <option value="Inspection">Inspection</option>
                <option value="Overhaul">Overhaul</option>
                <option value="Inspection & Overhaul">Inspection and Overhaul</option>
            </select>
        </div>
    </div>
    <div class="row form-group">
        <div class="col-sm-3">
            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START
                DATE</label>
        </div>
        <div class="col-sm-3">
            <input name="e60_start_date" type="date" class="form-control" value="" id="e60_start_date" />
        </div>
        <div class="col-sm-3">
            <label class="font-weight-bold" style="padding-left: 50px;">EXPECTED COMPLETION DATE</label>
        </div>
        <div class="col-sm-3">
            <input name="e60_expected_end_dt" type="date" class="form-control" value=""
                id="e60_expected_end_dt" />
        </div>
    </div>
    <div class="row form-group" id="">
        <div class="col-sm-3">
            <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
        </div>
        <div class="col-sm-3">
            <input type="text" class="form-control" placeholder="" id="e60_fleet" name="e60_fleet" value="" />
        </div>
        <div class="col-sm-3">
            <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
        </div>
        <div class="col-sm-3">
            <select id="e60_assignee" name="e60_assignee" onchange="consumber_substation_inspection()"
                class="form-control select2">
                <option value="" disabled selected>Select Team Leader</option>
                {% for leader in available_artisans%}
                <option value="{{leader.username}}" name="assignee">
                    {{leader.firstname}} {{leader.surname}}
                </option>
                {% endfor%}
            </select>
            <input type="text" id="job_leader" hidden name="assignee">
            <button class="save_leader" type="button"> Add </button>
        </div>
    </div>
    <div class="row form-group">
        <div class="col-sm-3">
            <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
        </div>
        <div>
            <select class="form-control" multiple="true" id="e60_assistants" style="width:100%;height:100px;">

                {% for e60_assistants in artisan_assistants%}
                    <option value="{{e60_assistants.username}}">
                        {{e60_assistants.firstname}} {{e60_assistants.surname}}
                    </option>
                {% endfor%}
            </select>
        </div>
        <div class="mid" style="width:50px;text-align:center;">
            <br>
            <button class="add" type="button"> > </button>
            <button class="remove" type="button"> < </button>
            <button class="remove-all" type="button"> <<< </button>
        </div>
        <div class="col-sm-3">
            <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
        </div>
       
        <div class="end col-sm-2">
            <select id="second" multiple="true" name="second" style="width: 200px;
            height:100px;">
            </select>
            <textarea id="teammember" class="form-control" readonly hidden name="teammember"></textarea>
        </div>
        <div style="clear:both;"></div>
    </div>
    <br>
    <br>
    <br>
    <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
        <div class="col-md-3">
            <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                    onclick="return confirm('Are you sure you want to cancel the job?');" />
            </a>
        </div>
        <div class=" col-md-3">
            <!-- <a class="navbar-brand  col-sm-8 pt-sm-0" href="}">
                <input type="submit" class="btn btn-sm  btn-block " value="Submit" id="e60_submit"
                    name="savejob_submit" formaction="/beweb/SaveJob"
                    onclick="return confirm('Are you sure you want to create job?');" />
            </a> -->
        </div>
        <div class="col-md-3" id="e60_attach">
            <a class="navbar-brand  col-sm-8 pt-sm-0" href="#">
                <input type="submit" class="btn  btn-sm  btn-block " value="Attach Asset" name="Add Asset"
                    formaction="/beweb/save/asset/"
                    onclick="return confirm('Are you sure you want to add asset?');" />
            </a>
        </div>

    </div>
</div>
<!-- End E60 -->





        <!-- E117 -->
        <div id="e117">
            <div class="row form-group">
                <div class="col-sm-4">
                </div>
                <div class="col-sm-4">
                    <label class="font-weight-bold" style="padding-left: 50px;">INSPECTION TYPE</label>
                </div>
                <div class="col-sm-4">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-4">
                </div>

                <div class="col-sm-4">
                    <select name="inspection_type" id="inspection_type" type="text" class="form-control"
                        placeholder="Please Select Type">
                        <option value="" disabled selected>Select Inspection Type</option>
                        <option value="new_installation">New Installation</option>
                        <option value="statutory">Statutory</option>
                    </select>
                    <textarea id="e117_tnames" name="e117_tnames" hidden class="form-control" value=""> </textarea>

                </div>
                <div class="col-sm-4">
                </div>
            </div>
            <!-- NEW INSTALLATION -->
            <div id="new_installation">

                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CUSTOMER
                            NAME</label>
                    </div>
                    <div class="col-sm-3">
                        <input type="text" class="form-control " name="customer_name" id="e117_customer_name" />
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CUSTOMER
                            PHONE
                        </label>
                    </div>
                    <div class="col-sm-3">
                        <input type="text" class="form-control " name="customer_phone" id="e117_customer_phone" />
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                            ADDRESS</label>
                    </div>
                    <div class="col-sm-3">
                        <textarea name="property_address" id="new_installation_property_address" class="form-control"
                            value=""></textarea>
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                            OWNER`S NAME</label>
                    </div>
                    <div class="col-sm-3">
                        <input name="new_installation_property_owner_name" id="new_installation_property_owner_name"
                            type="text" class="form-control" value="" />
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                            OWNER`S ADDRESS</label>
                    </div>
                    <div class="col-sm-3">
                        <textarea name="new_installation_property_owner_address"
                            id="new_installation_property_owner_address" class="form-control" value=""></textarea>
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CONTRACTOR`S
                            NAME</label>
                    </div>
                    <div class="col-sm-3">
                        <select id="new_installation_contractor_name" name="new_installation_contractor_name"
                            class="form-control">
                            <option value="" disabled selected>Select Contractor</option>
                            {% for contractor in contractors %}
                            <option value="{{contractor.e117contractor_id}}"
                                data-phone="{{contractor.contractor_phone}}"
                                data-address="{{contractor.contractor_address}}">
                                {{contractor.contractor_name}}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CONTRACTOR`S
                            PHONE</label>
                    </div>
                    <div class="col-sm-3">
                        <input name="new_installation_contractor_phone" id="new_installation_contractor_phone"
                            type="text" class="form-control" readonly />
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CONTRACTOR`S
                            ADDRESS</label>
                    </div>
                    <div class="col-sm-3">
                        <textarea name="new_installation_contractor_address" id="new_installation_contractor_address"
                            class="form-control" readonly></textarea>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START
                            DATE</label>
                    </div>
                    <div class="col-sm-3">
                        <input name="new_installation_start_date" id="new_installation_start_date" type="date"
                            class="form-control" value="" />
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">EXPECTED END
                            DATE</label>
                    </div>
                    <div class="col-sm-3">
                        <input name="new_installation_expected_end_dt" id="new_installation_expected_end_dt" type="date"
                            class="form-control" value="" />
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-sm-3">
                    </div>
                    <div class="col-sm-3">
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
                    </div>
                    <div class="col-sm-3">
                        <select id="new_installation_assignee" name="new_installation_assignee"
                            onchange="new_installation()" class="form-control">
                            <option value="" disabled selected>Select Team Leader</option>
                            {% for value in teams.values%}
                            {% for leader in value%}
                            {% if leader.firstname  %}
                            <option value="{{leader.ec_number}}">
                                {{leader.firstname}} {{leader.lastname}}
                            </option>
                            {% endif %}
                            {% endfor%}
                            {% endfor%}
                        </select>
                    </div>
                </div>
                <div class="row form-group" id="">
                    <div class="col-sm-3">
                        <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
                    </div>
                    <div class="col-sm-3">
                        <select class="form-control" multiple="multiple" id="new_installation_team_members"></select>
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
                    </div>
                    <div class="col-sm-3">
                        <textarea class="form-control" name="assistants" value=""
                            id="new_installation_assistants"></textarea>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
                    </div>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" placeholder="" id="new_installation_fleet"
                            name="new_installation_fleet" value="" />
                    </div>
                    <div class="col-sm-3">
                    </div>
                    <div class="col-sm-3">
                    </div>
                </div>
                <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
                    <div class="col-md-3">
                        <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                            <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                                onclick="return confirm('Are you sure you want to cancel the job?');" />
                        </a>
                    </div>
                    <div class=" col-md-3">
                        <a class="navbar-brand  col-sm-8 pt-sm-0">
                            <input type="submit" class="btn btn-sm  btn-block" id="new_installation_create"
                                value="Create" name="new_installation_create_submit" formaction="/beweb/create/e117/"
                                onclick=" return confirm('Are you sure you want to create job?');" />

                        </a>
                    </div>
                </div>
            </div>

            <!-- STATUTORY-->
            <div id="statutory">
                <div class="row form-group">
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">NUMBER OF
                            CLIENTS
                        </label>
                    </div>
                    <div class="col-sm-3">
                        <select name="statutory_number_of_clients" id="statutory_number_of_clients"
                            class="form-control statutory">
                            <option value="">Select Number of Clients</option>
                            <option value="single">SINGLE</option>
                            <option value="multiple">MULTIPLE</option>
                        </select>
                    </div>
                    <div class="col-sm-3">
                        <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CUSTOMER
                            TYPE</label>
                    </div>
                    <div class="col-sm-3">
                        <select name="statutory_customer_type" id="statutory_customer_type" class="form-control">
                            <option value="">Select Customer Type</option>
                            <option value="domestic">Domestic</option>
                            <option value="industrial">Industrial</option>
                            <option value="farming">Farming</option>
                            <option value="mining">Mining</option>
                            <option value="institutions">Institutions</option>
                        </select>
                    </div>
                </div>

                <div id="statutory_single">
                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CUSTOMER
                                NAME</label>
                        </div>
                        <div class="col-sm-3">
                            <input type="text" class="form-control " name="e117_statutory_customer_name"
                                id="e117_statutory_customer_name" />
                        </div>
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">CUSTOMER
                                PHONE
                            </label>
                        </div>
                        <div class="col-sm-3">
                            <input type="text" class="form-control " name="e117_statutory_customer_phone"
                                id="e117_statutory_customer_phone" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm-4">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                                ADDRESS</label>
                        </div>

                        <div class="col-sm-4">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                                OWNER`S NAME</label>
                        </div>

                        <div class="col-sm-4">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">PROPERTY
                                OWNER`S ADDRESS</label>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm-4">
                            <textarea name="statutory_single_property_address" id="statutory_single_property_address"
                                class="form-control"></textarea>
                        </div>

                        <div class="col-sm-4">
                            <input name="statutory_single_property_owner_name" id="statutory_single_property_owner_name"
                                type="text" class="form-control" value="" />
                        </div>

                        <div class="col-sm-4">
                            <textarea name="statutory_single_property_owner_address"
                                id="statutory_single_property_owner_address" class="form-control"></textarea>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START
                                DATE</label>
                        </div>
                        <div class="col-sm-3">
                            <input name="statutory_single_start_date" id="statutory_single_start_date" type="date"
                                class="form-control" value="" />
                        </div>
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">EXPECTED
                                END
                                DATE</label>
                        </div>
                        <div class="col-sm-3">
                            <input name="statutory_single_expected_end_dt" id="statutory_single_expected_end_dt"
                                type="date" class="form-control" value="" />
                        </div>
                    </div>


                    <div class="row form-group">
                        <div class="col-sm-3">
                        </div>
                        <div class="col-sm-3">
                        </div>

                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
                        </div>
                        <div class="col-sm-3">
                            <select id="statutory_single_assignee" name="statutory_single_assignee"
                                onchange="statutory_single()" class="form-control">
                                <option value="" disabled selected>Select Team Leader</option>
                                {% for value in teams.values%}
                                {% for leader in value%}
                                {% if leader.firstname  %}
                                <option value="{{leader.ec_number}}">
                                    {{leader.firstname}} {{leader.lastname}}
                                </option>
                                {% endif %}
                                {% endfor%}
                                {% endfor%}
                            </select>
                        </div>
                    </div>

                    <div class="row form-group" id="">
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
                        </div>
                        <div class="col-sm-3">
                            <select class="form-control" multiple="multiple" id="statutory_single_team_members"
                                name="statutory_single_team_members"></select>
                        </div>
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
                        </div>
                        <div class="col-sm-3">
                            <textarea id="statutory_single_assistants" class="form-control"
                                name="statutory_single_assistants" value=""></textarea>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
                        </div>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" placeholder="" id="statutory_single_fleet"
                                name="statutory_single_fleet" value="" />
                        </div>
                        <div class="col-sm-3">
                        </div>
                        <div class="col-sm-3">
                        </div>
                    </div>

                    <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
                        <div class="col-md-3">
                            <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                                <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                                    onclick="return confirm('Are you sure you want to cancel the job?');" />
                            </a>
                        </div>
                        <div class=" col-md-3">
                            <a class="navbar-brand  col-sm-8 pt-sm-0">
                                <input type="submit" class="btn btn-sm  btn-block " value="Create" name="submit"
                                    formaction="/beweb/create/e117/"
                                    onclick="return confirm('Are you sure you want to create this job?');" />
                            </a>
                        </div>
                    </div>


                </div>
                <div id="statutory_multiple">
                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label"
                                style="padding-left: 50px;">DESCRIPTION
                            </label>
                        </div>
                        <div class="col-sm-9">
                            <textarea name="e117_statutory_description" id="e117_statutory_description"
                                class="form-control"></textarea>
                        </div>
                    </div>



                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">START
                                DATE</label>
                        </div>
                        <div class="col-sm-3">
                            <input name="statutory_multiple_start_date" id="statutory_multiple_start_date" type="date"
                                class="form-control" value="" />
                        </div>
                        <div class="col-sm-3">
                            <label class="font-weight-bold col-xs-3 col-form-label" style="padding-left: 50px;">EXPECTED
                                END DATE</label>
                        </div>
                        <div class="col-sm-3">
                            <input name="statutory_multiple_expected_end_dt" id="statutory_multiple_expected_end_dt"
                                type="date" class="form-control" value="" />
                        </div>
                    </div>


                    <div class="row form-group">
                        <div class="col-sm-3">
                        </div>
                        <div class="col-sm-3">
                        </div>

                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">TEAM LEADER</label>
                        </div>
                        <div class="col-sm-3">
                            <select id="statutory_multiple_assignee" name="statutory_multiple_assignee"
                                onchange="statutory_multiple()" class="form-control">
                                <option value="" disabled selected>Select Team Leader</option>
                                {% for value in teams.values%}
                                {% for leader in value%}
                                {% if leader.firstname  %}
                                <option value="{{leader.ec_number}}">
                                    {{leader.firstname}} {{leader.lastname}}
                                </option>
                                {% endif %}
                                {% endfor%}
                                {% endfor%}
                            </select>
                        </div>
                    </div>

                    <div class="row form-group" id="">
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">TEAM MEMBERS</label>
                        </div>
                        <div class="col-sm-3">
                            <select class="form-control" multiple="multiple"
                                id="statutory_multiple_team_members"></select>
                        </div>
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">SELECTED</label>
                        </div>
                        <div class="col-sm-3">
                            <textarea id="statutory_multiple_assistants" class="form-control"
                                name="statutory_multiple_assistants" value=""></textarea>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm-3">
                            <label class="font-weight-bold" style="padding-left: 50px;">FLEET</label>
                        </div>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" placeholder="" id="statutory_multiple_fleet"
                                name="statutory_multiple_fleet" value="" />
                        </div>
                        <div class="col-sm-3">
                        </div>
                        <div class="col-sm-3">
                        </div>
                    </div>

                    <div class="form-group row  col-sm-12 d-flex justify-content-center align-content-center ">
                        <div class="col-md-3">
                            <a class="navbar-brand  col-sm-8 pt-sm-0" href="{% url 'beweb:home' %}">
                                <input type="button" class="btn  btn-sm btn-block " value="Cancel"
                                    onclick="return confirm('Are you sure you want to cancel the job?');" />
                            </a>
                        </div>
                        <div class=" col-md-3">
                            <a class="navbar-brand  col-sm-8 pt-sm-0">
                                <input type="submit" class="btn btn-sm  btn-block " value="Create" name="submit"
                                    id="e117_statutory_multiple_create_btn" formaction="/beweb/create/e117/"
                                    onclick="return confirm('Are you sure you want to create this job?');" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script>

    $(document).ready(function () {
        $('#e84').hide()
        $('#e117').hide()
        $('#new_installation').hide()
        $('#statutory').hide()
        $('#re_inspection').hide()
        $('#e50').hide()
        $('#e60').hide()
        $('#jobtype').change(function () {
            var form_type = $('#jobtype option:selected').val();
            if (form_type === 'E84') {
                // MOVE THE BELOW CODE TO THE RELEVANT BUTTON`S onclick event.
                // Also test for empty string
                $('#e84').show()
                $('#e84_description').attr('required', 'required')
                $('#e84_start_date').attr('required', 'required')
                $('#e84_expected_end_dt').attr('required', 'required')
                $('#e84_trigger').attr('required', 'required')
                $('#e84_fleet').attr('required', 'required')
                $('#e84_asset_type').attr('required', 'required')
                $('#e84_assignee').attr('required', 'required')
                $('#e84_xteams').attr('required', 'required')
                // REMOVE MULTIPLE STATUTORY REQUIRED ATTRIBUTES
                $('#e117_statutory_description').removeAttr("required")
                $('#statutory_multiple_start_date').removeAttr("required")
                $('#statutory_multiple_expected_end_dt').removeAttr("required")
                $('#statutory_multiple_assignee').removeAttr("required")
                $('#statutory_multiple_assistants').removeAttr("required")
                $('#statutory_multiple_fleet').removeAttr("required")
                $('#statutory_number_of_clients').removeAttr("required")
                $('#statutory_customer_type').removeAttr("required")
                // REMOVE SINGLE STATUTORY REQUIRED ATTRIBUTES
                $('#e117_statutory_customer_name').removeAttr("required")
                $('#e117_statutory_customer_phone').removeAttr("required")
                $('#statutory_single_property_address').removeAttr("required")
                $('#statutory_single_property_owner_name').removeAttr("required")
                $('#statutory_single_property_owner_address').removeAttr("required")
                $('#statutory_single_start_date').removeAttr("required")
                $('#statutory_single_expected_end_dt').removeAttr("required")
                $('#statutory_single_assignee').removeAttr("required")
                $('#statutory_single_assistants').removeAttr("required")
                $('#statutory_single_fleet').removeAttr("required")
                // REMOVE NEW INSTALLATION REQUIRED ATTRIBUTES
                $('#e117_customer_name').removeAttr("required")
                $('#e117_customer_phone').removeAttr("required")
                $('#new_installation_property_address').removeAttr("required")
                $('#new_installation_property_owner_name').removeAttr("required")
                $('#new_installation_property_owner_address').removeAttr("required")
                $('#new_installation_contractor_name').removeAttr("required")
                $('#new_installation_contractor_phone').removeAttr("required")
                $('#new_installation_contractor_address').removeAttr("required")
                $('#new_installation_start_date').removeAttr("required")
                $('#new_installation_expected_end_dt').removeAttr("required")
                $('#new_installation_assignee').removeAttr("required")
                $('#new_installation_assistants').removeAttr("required")
                $('#new_installation_fleet').removeAttr("required")
                //REMOVE RE-INSPECTION REQUIRED ATTRIBUTES
                $('#re_inspection_service_number').removeAttr("required")
                $('#re_inspection_receipt_number').removeAttr("required")
                $('#re_inspection_fee').removeAttr("required")
                $('#re_inspection_date_paid').removeAttr("required")
                $('#re_inspection_customer_name').removeAttr("required")
                $('#re_inspection_customer_phone').removeAttr("required")
                $('#re_inspection_property_address').removeAttr("required")
                $('#re_inspection_property_owner_name').removeAttr("required")
                $('#re_inspection_property_owner_address').removeAttr("required")
                $('#re_inspection_contractor_name').removeAttr("required")
                $('#re_inspection_contractor_phone').removeAttr("required")
                $('#re_inspection_contractor_address').removeAttr("required")
                $('#re_inspection_expected_end_dt').removeAttr("required")
                $('#re_inspection_start_date').removeAttr("required")
                $('#re_inspection_assignee').removeAttr("required")
                $('#e50').hide()
                $('#e117').hide()
                $('#statutory').hide()
                $('#re_inspection').hide()
                $('#e60').hide()
            }
            else if (form_type === 'E117') {
                $('#e50').hide()
                $('#e117').show()
                $('#e84').hide()
                $('#re_inspection').hide()
                $('#e60').hide()
            }
            else if(form_type==='E60'){
                $('#e60').show()
                $('#e50').hide()
                $('#e84').hide()
                $('#re_inspection').hide()
                $('#e117').hide()
            }
            else if (form_type === 'E50') {
                $('#e50').show()
                $('#e117').hide()
                $('#e84').hide()
                $('#e60').hide()
                $('#re_inspection').hide()
                $('#e50_description').attr('required', 'required')
                $('#e50_start_date').attr('required', 'required')
                $('#e50_expected_end_dt').attr('required', 'required')
                $('#e50_fleet').attr('required', 'required')
                $('#e50_xteams').attr('required', 'required')
                //REMOVE E84 ATTRIBUTES
                $('#e84_description').removeAttr("required")
                $('#e84_start_date').removeAttr("required")
                $('#e84_expected_end_dt').removeAttr("required")
                $('#e84_trigger').removeAttr("required")
                $('#e84_fleet').removeAttr("required")
                $('#e84_asset_type').removeAttr("required")
                $('#e84_assignee').removeAttr("required")
                $('#e84_xteams').removeAttr("required")
                // REMOVE MULTIPLE STATUTORY REQUIRED ATTRIBUTES
                $('#e117_statutory_description').removeAttr("required")
                $('#statutory_multiple_start_date').removeAttr("required")
                $('#statutory_multiple_expected_end_dt').removeAttr("required")
                $('#statutory_multiple_assignee').removeAttr("required")
                $('#statutory_multiple_assistants').removeAttr("required")
                $('#statutory_multiple_fleet').removeAttr("required")
                $('#statutory_number_of_clients').removeAttr("required")
                $('#statutory_customer_type').removeAttr("required")
                // REMOVE SINGLE STATUTORY REQUIRED ATTRIBUTES
                $('#e117_statutory_customer_name').removeAttr("required")
                $('#e117_statutory_customer_phone').removeAttr("required")
                $('#statutory_single_property_address').removeAttr("required")
                $('#statutory_single_property_owner_name').removeAttr("required")
                $('#statutory_single_property_owner_address').removeAttr("required")
                $('#statutory_single_start_date').removeAttr("required")
                $('#statutory_single_expected_end_dt').removeAttr("required")
                $('#statutory_single_assignee').removeAttr("required")
                $('#statutory_single_assistants').removeAttr("required")
                $('#statutory_single_fleet').removeAttr("required")
                // REMOVE NEW INSTALLATION REQUIRED ATTRIBUTES
                $('#e117_customer_name').removeAttr("required")
                $('#e117_customer_phone').removeAttr("required")
                $('#new_installation_property_address').removeAttr("required")
                $('#new_installation_property_owner_name').removeAttr("required")
                $('#new_installation_property_owner_address').removeAttr("required")
                $('#new_installation_contractor_name').removeAttr("required")
                $('#new_installation_contractor_phone').removeAttr("required")
                $('#new_installation_contractor_address').removeAttr("required")
                $('#new_installation_start_date').removeAttr("required")
                $('#new_installation_expected_end_dt').removeAttr("required")
                $('#new_installation_assignee').removeAttr("required")
                $('#new_installation_assistants').removeAttr("required")
                $('#new_installation_fleet').removeAttr("required")
            }
        });


        $('#inspection_type').change(function () {
            var inspection_type = $('#inspection_type option:selected').val();
            if (inspection_type === 'new_installation') {
                $('#new_installation').show()
                $('#e117_customer_name').attr('required', 'required')
                $('#e117_customer_phone').attr('required', 'required')
                $('#new_installation_property_address').attr('required', 'required')
                $('#new_installation_property_owner_name').attr('required', 'required')
                $('#new_installation_property_owner_address').attr('required', 'required')
                $('#new_installation_contractor_name').attr('required', 'required')
                $('#new_installation_contractor_phone').attr('required', 'required')
                $('#new_installation_contractor_address').attr('required', 'required')
                $('#new_installation_start_date').attr('required', 'required')
                $('#new_installation_expected_end_dt').attr('required', 'required')
                $('#new_installation_assignee').attr('required', 'required')
                $('#new_installation_assistants').attr('required', 'required')
                $('#new_installation_fleet').attr('required', 'required')
                // REMOVE E84 REQUIRED ATTRIBUTES
                $('#e84_description').removeAttr("required")
                $('#e84_start_date').removeAttr("required")
                $('#e84_expected_end_dt').removeAttr("required")
                $('#e84_trigger').removeAttr("required")
                $('#e84_fleet').removeAttr("required")
                $('#e84_asset_type').removeAttr("required")
                $('#e84_assignee').removeAttr("required")
                $('#e84_xteams').removeAttr("required")
                //REMOVE STATUTORY SINGLE CLIENT REQUIRED ATTRIBUTES
                $('#e117_statutory_customer_name').removeAttr("required")
                $('#e117_statutory_customer_phone').removeAttr("required")
                $('#statutory_single_property_address').removeAttr("required")
                $('#statutory_single_property_owner_name').removeAttr("required")
                $('#statutory_single_property_owner_address').removeAttr("required")
                $('#statutory_single_start_date').removeAttr("required")
                $('#statutory_single_expected_end_dt').removeAttr("required")
                $('#statutory_single_assignee').removeAttr("required")
                $('#statutory_single_assistants').removeAttr("required")
                $('#statutory_single_fleet').removeAttr("required")
                // REMOVE STATUTORY MULTIPLE CLIENTS REQUIRED ATTRIBUTES
                $('#e117_statutory_description').removeAttr("required")
                $('#statutory_multiple_start_date').removeAttr("required")
                $('#statutory_multiple_expected_end_dt').removeAttr("required")
                $('#statutory_multiple_assignee').removeAttr("required")
                $('#statutory_multiple_assistants').removeAttr("required")
                $('#statutory_multiple_fleet').removeAttr("required")
                $('#statutory_number_of_clients').removeAttr("required")
                $('#statutory_customer_type').removeAttr("required")
                //REMOVE RE-INSPECTION REQUIRED ATTRIBUTES
                $('#re_inspection_service_number').removeAttr("required")
                $('#re_inspection_receipt_number').removeAttr("required")
                $('#re_inspection_fee').removeAttr("required")
                $('#re_inspection_date_paid').removeAttr("required")
                $('#re_inspection_customer_name').removeAttr("required")
                $('#re_inspection_customer_phone').removeAttr("required")
                $('#re_inspection_property_address').removeAttr("required")
                $('#re_inspection_property_owner_name').removeAttr("required")
                $('#re_inspection_property_owner_address').removeAttr("required")
                $('#re_inspection_contractor_name').removeAttr("required")
                $('#re_inspection_contractor_phone').removeAttr("required")
                $('#re_inspection_contractor_address').removeAttr("required")
                $('#re_inspection_expected_end_dt').removeAttr("required")
                $('#re_inspection_start_date').removeAttr("required")
                $('#re_inspection_assignee').removeAttr("required")
                $('#statutory').hide()
                $('#re_inspection').hide()
            }
            else if (inspection_type === 'statutory') {
                $('#statutory').show()
                $('#statutory_number_of_clients').attr('required', 'required')
                $('#statutory_customer_type').attr('required', 'required')
                $('#statutory_single').hide()
                $('#statutory_multiple').hide()
                $('#new_installation').hide()
                $('#re_inspection').hide()
            }
            else if (inspection_type === 're_inspection') {
                $('#re_inspection').show()
                $('#re_inspection_service_number').attr('required', 'required')
                $('#re_inspection_receipt_number').attr('required', 'required')
                $('#re_inspection_fee').attr('required', 'required')
                $('#re_inspection_date_paid').attr('required', 'required')
                $('#re_inspection_customer_name').attr('required', 'required')
                $('#re_inspection_customer_phone').attr('required', 'required')
                $('#re_inspection_property_address').attr('required', 'required')
                $('#re_inspection_property_owner_name').attr('required', 'required')
                $('#re_inspection_property_owner_address').attr('required', 'required')
                $('#re_inspection_contractor_name').attr('required', 'required')
                $('#re_inspection_contractor_phone').attr('required', 'required')
                $('#re_inspection_contractor_address').attr('required', 'required')
                $('#re_inspection_expected_end_dt').attr('required', 'required')
                $('#re_inspection_start_date').attr('required', 'required')
                $('#re_inspection_assignee').attr('required', 'required')
                // REMOVE NEW INSTALLATION REQUIRED ATTRIBUTES 
                $('#e117_customer_name').removeAttr("required")
                $('#e117_customer_phone').removeAttr("required")
                $('#new_installation_property_address').removeAttr("required")
                $('#new_installation_property_owner_name').removeAttr("required")
                $('#new_installation_property_owner_address').removeAttr("required")
                $('#new_installation_contractor_name').removeAttr("required")
                $('#new_installation_contractor_phone').removeAttr("required")
                $('#new_installation_contractor_address').removeAttr("required")
                $('#new_installation_start_date').removeAttr("required")
                $('#new_installation_expected_end_dt').removeAttr("required")
                $('#new_installation_assignee').removeAttr("required")
                $('#new_installation_assistants').removeAttr("required")
                $('#new_installation_fleet').removeAttr("required")
                // REMOVE E84 INSTALLATION REQUIRED ATTRIBUTES
                $('#e84_description').removeAttr("required")
                $('#e84_start_date').removeAttr("required")
                $('#e84_expected_end_dt').removeAttr("required")
                $('#e84_trigger').removeAttr("required")
                $('#e84_fleet').removeAttr("required")
                $('#e84_asset_type').removeAttr("required")
                $('#e84_assignee').removeAttr("required")
                $('#e84_xteams').removeAttr("required")
                // REMOVE STATUTORY REQUIRED ATTRIBUTES
                $('#e117_statutory_description').removeAttr("required")
                $('#statutory_multiple_start_date').removeAttr("required")
                $('#statutory_multiple_expected_end_dt').removeAttr("required")
                $('#statutory_multiple_assignee').removeAttr("required")
                $('#statutory_multiple_assistants').removeAttr("required")
                $('#statutory_multiple_fleet').removeAttr("required")
                $('#statutory_number_of_clients').removeAttr("required")
                $('#statutory_customer_type').removeAttr("required")
                //REMOVE STATUTORY SINGLE CLIENT REQUIRED ATTRIBUTES
                $('#e117_statutory_customer_name').removeAttr("required")
                $('#e117_statutory_customer_phone').removeAttr("required")
                $('#statutory_single_property_address').removeAttr("required")
                $('#statutory_single_property_owner_name').removeAttr("required")
                $('#statutory_single_property_owner_address').removeAttr("required")
                $('#statutory_single_start_date').removeAttr("required")
                $('#statutory_single_expected_end_dt').removeAttr("required")
                $('#statutory_single_assignee').removeAttr("required")
                $('#statutory_single_assistants').removeAttr("required")
                $('#statutory_single_fleet').removeAttr("required")
                $('#new_installation').hide()
                $('#statutory').hide()
            }
        });

        $('#statutory_number_of_clients').change(function () {
            var statutory_number_of_clients = $('#statutory_number_of_clients option:selected').val();
            if (statutory_number_of_clients === 'single') {
                $('#e117_statutory_customer_name').attr('required', 'required')
                $('#e117_statutory_customer_phone').attr('required', 'required')
                $('#statutory_single_property_address').attr('required', 'required')
                $('#statutory_single_property_owner_name').attr('required', 'required')
                $('#statutory_single_property_owner_address').attr('required', 'required')
                $('#statutory_single_start_date').attr('required', 'required')
                $('#statutory_single_expected_end_dt').attr('required', 'required')
                $('#statutory_single_assignee').attr('required', 'required')
                $('#statutory_single_assistants').attr('required', 'required')
                $('#statutory_single_fleet').attr('required', 'required')
                //REMOVE RE-INSPECTION REQUIRED ATTRIBUTES
                $('#re_inspection_service_number').removeAttr("required")
                $('#re_inspection_receipt_number').removeAttr("required")
                $('#re_inspection_fee').removeAttr("required")
                $('#re_inspection_date_paid').removeAttr("required")
                $('#re_inspection_customer_name').removeAttr("required")
                $('#re_inspection_customer_phone').removeAttr("required")
                $('#re_inspection_property_address').removeAttr("required")
                $('#re_inspection_property_owner_name').removeAttr("required")
                $('#re_inspection_property_owner_address').removeAttr("required")
                $('#re_inspection_contractor_name').removeAttr("required")
                $('#re_inspection_contractor_phone').removeAttr("required")
                $('#re_inspection_contractor_address').removeAttr("required")
                $('#re_inspection_expected_end_dt').removeAttr("required")
                $('#re_inspection_start_date').removeAttr("required")
                $('#re_inspection_assignee').removeAttr("required")
                // REMOVE NEW INSTALLATION REQUIRED ATTRIBUTES 
                $('#e117_customer_name').removeAttr("required")
                $('#e117_customer_phone').removeAttr("required")
                $('#new_installation_property_address').removeAttr("required")
                $('#new_installation_property_owner_name').removeAttr("required")
                $('#new_installation_property_owner_address').removeAttr("required")
                $('#new_installation_contractor_name').removeAttr("required")
                $('#new_installation_contractor_phone').removeAttr("required")
                $('#new_installation_contractor_address').removeAttr("required")
                $('#new_installation_start_date').removeAttr("required")
                $('#new_installation_expected_end_dt').removeAttr("required")
                $('#new_installation_assignee').removeAttr("required")
                $('#new_installation_assistants').removeAttr("required")
                $('#new_installation_fleet').removeAttr("required")
                // REMOVE E84 INSTALLATION REQUIRED ATTRIBUTES
                $('#e84_description').removeAttr("required")
                $('#e84_start_date').removeAttr("required")
                $('#e84_expected_end_dt').removeAttr("required")
                $('#e84_trigger').removeAttr("required")
                $('#e84_fleet').removeAttr("required")
                $('#e84_asset_type').removeAttr("required")
                $('#e84_assignee').removeAttr("required")
                $('#e84_xteams').removeAttr("required")
                // REMOVE STATUTORY MULTIPLE CLIENTS REQUIRED ATTRIBUTES
                $('#e117_statutory_description').removeAttr("required")
                $('#statutory_multiple_start_date').removeAttr("required")
                $('#statutory_multiple_expected_end_dt').removeAttr("required")
                $('#statutory_multiple_assignee').removeAttr("required")
                $('#statutory_multiple_assistants').removeAttr("required")
                $('#statutory_multiple_fleet').removeAttr("required")
                $('#statutory_number_of_clients').removeAttr("required")
                $('#statutory_customer_type').removeAttr("required")
                $('#statutory_single').show()
                $('#statutory_multiple').hide()
            }
            else {
                $('#statutory_single').hide()
                $('#statutory_multiple').show()
                $('#e117_statutory_description').attr('required', 'required')
                $('#statutory_multiple_start_date').attr('required', 'required')
                $('#statutory_multiple_expected_end_dt').attr('required', 'required')
                $('#statutory_multiple_assignee').attr('required', 'required')
                $('#statutory_multiple_assistants').attr('required', 'required')
                $('#statutory_multiple_fleet').attr('required', 'required')
                //REMOVE RE-INSPECTION REQUIRED ATTRIBUTES
                $('#re_inspection_service_number').removeAttr("required")
                $('#re_inspection_receipt_number').removeAttr("required")
                $('#re_inspection_fee').removeAttr("required")
                $('#re_inspection_date_paid').removeAttr("required")
                $('#re_inspection_customer_name').removeAttr("required")
                $('#re_inspection_customer_phone').removeAttr("required")
                $('#re_inspection_property_address').removeAttr("required")
                $('#re_inspection_property_owner_name').removeAttr("required")
                $('#re_inspection_property_owner_address').removeAttr("required")
                $('#re_inspection_contractor_name').removeAttr("required")
                $('#re_inspection_contractor_phone').removeAttr("required")
                $('#re_inspection_contractor_address').removeAttr("required")
                $('#re_inspection_expected_end_dt').removeAttr("required")
                $('#re_inspection_start_date').removeAttr("required")
                $('#re_inspection_assignee').removeAttr("required")
                // REMOVE NEW INSTALLATION REQUIRED ATTRIBUTES 
                $('#e117_customer_name').removeAttr("required")
                $('#e117_customer_phone').removeAttr("required")
                $('#new_installation_property_address').removeAttr("required")
                $('#new_installation_property_owner_name').removeAttr("required")
                $('#new_installation_property_owner_address').removeAttr("required")
                $('#new_installation_contractor_name').removeAttr("required")
                $('#new_installation_contractor_phone').removeAttr("required")
                $('#new_installation_contractor_address').removeAttr("required")
                $('#new_installation_start_date').removeAttr("required")
                $('#new_installation_expected_end_dt').removeAttr("required")
                $('#new_installation_assignee').removeAttr("required")
                $('#new_installation_assistants').removeAttr("required")
                $('#new_installation_fleet').removeAttr("required")
                // REMOVE E84 INSTALLATION REQUIRED ATTRIBUTES
                $('#e84_description').removeAttr("required")
                $('#e84_start_date').removeAttr("required")
                $('#e84_expected_end_dt').removeAttr("required")
                $('#e84_trigger').removeAttr("required")
                $('#e84_fleet').removeAttr("required")
                $('#e84_asset_type').removeAttr("required")
                $('#e84_assignee').removeAttr("required")
                $('#e84_xteams').removeAttr("required")
                // REMOVE STATUTORY MULTIPLE CLIENTS REQUIRED ATTRIBUTES
                $('#e117_statutory_customer_name').removeAttr("required")
                $('#e117_statutory_customer_phone').removeAttr("required")
                $('#statutory_single_property_address').removeAttr("required")
                $('#statutory_single_property_owner_name').removeAttr("required")
                $('#statutory_single_property_owner_address').removeAttr("required")
                $('#statutory_single_start_date').removeAttr("required")
                $('#statutory_single_expected_end_dt').removeAttr("required")
                $('#statutory_single_assignee').removeAttr("required")
                $('#statutory_single_assistants').removeAttr("required")
                $('#statutory_single_fleet').removeAttr("required")
            }
        });
    });


    $('#new_installation_contractor_name').change(function () {
        selectedOption = $('option:selected', this);
        $('input[name=new_installation_contractor_phone]').val(selectedOption.data('phone'));
        $('#new_installation_contractor_address').val(selectedOption.data('address'));
    });



    /////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////E60 Consumer Sub Inspection/////////////////////////
    ////////////////////////////////////////////////////////////////////////////////

    $(document).ready(function () {

    $('.add').click(function(e){
        $('#e60_assistants option:selected').appendTo('#second');
    });
    
    $('.remove').click(function(){
        $('#second option:selected').appendTo('#e60_assistants');
    });
    $('.add-all').click(function(){
        $('#e60_assistants option').appendTo('#second'); 
    });
    $('.remove-all').click(function(){
        $('#second option').appendTo('#e60_assistants'); 
    });
    
    $('.save_leader').click(function(){
        $('#e60_assignee option:selected').appendTo('#second');
    });

    $('#assignee').change(function(){
        selectedLeader= ($('option:selected',this).val());
        selectedMember=$('#members option[value='+ selectedLeader +']');
        selectedMember.hide();
        $('#job_leader').val(selectedLeader)
        //alert($('#job_leader').val())

    })
});

    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E84 LINE INSPECTION ///////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////

    var mine = document.getElementById("e84_xteams").value || "";
    var m = document.getElementById("tnames").value || "";

    
    $("#e84_assistants").on("click", function (e) {
        var e = document.getElementById("e84_assistants");
        if (mine.indexOf(e.value) === -1) {
            m += e.value.substring(0, e.value.indexOf('%')) + ", ";
            mine += e.value + ", ";
            document.getElementById("tnames").value = mine;
            document.getElementById("e84_xteams").value = m;
        }
    });
    $('#e84_assistants').click(function () {
        $('#e84_assistants option').prop('selected', true);
    });

    function line_inspection() {
        var x = document.getElementById("e84_assistants");
        x.options.length = 0;
        var assignee = document.getElementById("e84_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}


    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E50 PRIMARY SUBSTATION INSPECTION //////////////////
    ///////////////////////////////////////////////////////////////////////////////

    var mine = document.getElementById("e50_xteams").value || "";
    var m = document.getElementById("e50_tnames").value || "";

    $("#e50_assistants").on("click", function (e) {
        var e = document.getElementById("e50_assistants");
        if (mine.indexOf(e.value) === -1) {
            m += e.value.substring(0, e.value.indexOf('%')) + ", ";
            mine += e.value + ", ";
            document.getElementById("e50_tnames").value = mine;
            document.getElementById("e50_xteams").value = m;
        }
    });
    $('#e50_assistants').click(function () {
        $('#e50_assistants option').prop('selected', true);
    });

    function substation_inspection() {
        var x = document.getElementById("e50_assistants");
        x.options.length = 0;
        var assignee = document.getElementById("e50_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}




    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E117 NEW INSTALLATION /////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////

    var installation_assistant = document.getElementById("new_installation_assistants").value || "";
    var assistant_name = document.getElementById("e117_tnames").value || "";

    $("#new_installation_team_members").on("click", function (e) {
        var e = document.getElementById("new_installation_team_members");
        if (installation_assistant.indexOf(e.value) === -1) {
            assistant_name += e.value.substring(0, e.value.indexOf('%')) + ", ";
            installation_assistant += e.value + ", ";
            $("#e117_tnames").val(installation_assistant);
            $("#new_installation_assistants").val(assistant_name);
        }
    });
    $('#new_installation_team_members').click(function () {
        $('#new_installation_team_members option').prop('selected', true);
    });

    function new_installation() {
        var x = document.getElementById("new_installation_team_members");
        x.options.length = 0;
        var assignee = document.getElementById("new_installation_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}




    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E117 STATUTORY INSPECTION - SINGLE CLIENTS /////
    ///////////////////////////////////////////////////////////////////////////////

    var statutory_assistant = document.getElementById("statutory_multiple_assistants").value || "";
    var statutory_assistant_name = document.getElementById("e117_tnames").value || "";

    $("#statutory_single_team_members").on("click", function (e) {
        var e = document.getElementById("statutory_single_team_members");
        if (statutory_assistant.indexOf(e.value) === -1) {
            statutory_assistant_name += e.value.substring(0, e.value.indexOf('%')) + ", ";
            statutory_assistant += e.value + ", ";
            document.getElementById("e117_tnames").value = statutory_assistant;
            document.getElementById("statutory_single_assistants").value = statutory_assistant_name;
        }
    });
    $('#statutory_single_team_members').click(function () {
        $('#statutory_single_team_members option').prop('selected', true);
    });

    function statutory_single() {
        var x = document.getElementById("statutory_single_team_members");
        x.options.length = 0;
        var assignee = document.getElementById("statutory_single_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}




    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E117 STATUTORY INSPECTION - MULTIPLE CLIENTS /////
    ///////////////////////////////////////////////////////////////////////////////

    var statutory_assistant = document.getElementById("statutory_multiple_assistants").value || "";
    var statutory_assistant_name = document.getElementById("e117_tnames").value || "";

    $("#statutory_multiple_team_members").on("click", function (e) {
        var e = document.getElementById("statutory_multiple_team_members");
        if (statutory_assistant.indexOf(e.value) === -1) {
            statutory_assistant_name += e.value.substring(0, e.value.indexOf('%')) + ", ";
            statutory_assistant += e.value + ", ";
            document.getElementById("e117_tnames").value = statutory_assistant;
            document.getElementById("statutory_multiple_assistants").value = statutory_assistant_name;
        }
    });
    $('#statutory_multiple_team_members').click(function () {
        $('#statutory_multiple_team_members option').prop('selected', true);
    });

    function statutory_multiple() {
        var x = document.getElementById("statutory_multiple_team_members");
        x.options.length = 0;
        var assignee = document.getElementById("statutory_multiple_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}





    /////////////////////////////////////////////////////////////////////////////////
    //////////////////////////// E117 RE-INSPECTION /////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////

    var re_inspection_assistants = document.getElementById("re_inspection_assistants").value || "";
    var re_assistants = document.getElementById("e117_tnames").value || "";

    $("#re_inspection_team_members").on("click", function (e) {
        var e = document.getElementById("re_inspection_team_members");
        if (re_inspection_assistants.indexOf(e.value) === -1) {
            re_assistants += e.value.substring(0, e.value.indexOf('%')) + ", ";
            re_inspection_assistants += e.value + ", ";
            document.getElementById("e117_tnames").value = re_inspection_assistants;
            document.getElementById("re_inspection_assistants").value = re_assistants;
        }
    });
    $('#re_inspection_team_members').click(function () {
        $('#re_inspection_team_members option').prop('selected', true);
    });

    function re_inspection() {
        var x = document.getElementById("re_inspection_team_members");
        x.options.length = 0;
        var assignee = document.getElementById("re_inspection_assignee").value;
        var mteam = {{ teams | safe}};
    for (var key in mteam) {
        if (mteam.hasOwnProperty(key)) {
            if (key == assignee) {
                var members = mteam[key][1];
                for (var tm in members) {
                    var option = document.createElement("option");
                    for (var tmd in members) {
                        option.value = members[tm]["firstname"] + "  " + members[tm]["lastname"] + "%" + members[tm]["ec_number"];
                        option.text = members[tm]["firstname"] + "  " + members[tm]["lastname"];
                        x.add(option);
                    }
                }
            }
        }
    }
}



</script>
{% endif %} {% endblock %}